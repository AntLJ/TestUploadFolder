ChangeCodedValueDomainの使い方 2014/01/07

作成者　第2技術部第4技術G　森好司

【ツール名】
ChangeCodedValueDomain.exe

【最新バージョン】
FILEVERSION 1.0.0.0

【目的・処理内容】
　コード値ドメインのコード値の説明を一括で変換することを目的としたツール。
　PGDBやFGDBが大量にある場合、またはサーバ毎に手作業で変更するのは手間で
　あるため、本ツールで一括変更する
　また、本ツールで、任意のPGDBに含まれているコード値ドメインのコード値一覧を
　出力することができる。

【使用法】
１．サーバ、またはPGDBなどに設定されているコード値の一覧を取得する方法

コマンドプロンプトで、以下のように引数を指定して実行する。
実行例：ChangeCodedValueDomain.exe -s <サーバ情報> -o <出力ファイル名>

-s　コード値ドメインの一覧を出力したいサーバ情報、またはファイルDBのパス
　　サーバ情報の際の記入方法は以下の通り
　　接続するサーバ名は、以下のように、スラッシュで区切る
　　ユーザ名/パスワード/バージョン名/インスタンス/サーバ名
　　例: ipcusr/ipcusr/SDE.DEFAULT/5151/spinel2

-o　コード値の一覧を出力するファイル名
　　例： C:\temp\domain.csv

正常に実行されれば、以下のようにカンマセパレートでコード値ドメインの一覧が
出力される。1列目はコード値ドメイン名、2列目はコード値、3列目はその説明。

例：
背景レイヤコード2,0,前レイヤ共通
背景レイヤコード2,1,トップライン
背景レイヤコード2,4,トップ背景
・・・


２．サーバ、またはPGDBなどのファイルDBにコード値ドメインの説明の変更を行う

まず、使用方法１で出力したcsvファイルをベースにし、3列目の説明文を
変更する。

例：
背景レイヤコード2,0,ALL
背景レイヤコード2,1,TOP_LINE
背景レイヤコード2,4,TOP_SITE

1列目、2列目は変更してはいけない。

処理の流れとして、一度元のコード値を削除してから、新規に追加することになって
いるため、新たなコード値が増え、更新することにはならない。
（これを逆手にとり、本ツールは修正ではなく、追加も可能ではある）

更新ファイルを準備後、コマンドプロンプトで以下のような引数を指定して実行する。

※注意※
処理を行う際には、サーバまたはファイルにコネクションがあってはならない！
仮にあった場合に、正常終了とは出力されても、変更はかかっていないので注意
また、接続ユーザはドメインの所有者でなければ変更されないので注意
（この場合にも、正常終了と出てしまうので注意）

サーバに対しての場合
実行例：ChangeCodedValueDomain.exe -c <変換ファイル名> -d <出力ファイル名>

-c　コード値の説明を変更するファイル名（上記で説明したファイル）
　　例： C:\temp\domain.csv

-d　コード値ドメインの変更したいサーバ情報
　　サーバ情報の際の記入方法は以下の通り
　　接続するサーバ名は、以下のように、スラッシュで区切る
　　ユーザ名/パスワード/バージョン名/インスタンス/サーバ名
　　例: ipcusr/ipcusr/SDE.DEFAULT/5151/spinel2

ファイルに対しての場合
※注意※
指定したフォルダ以下にある、PGDBまたはFGDB”すべて”を一括で変換をかける。

実行例：ChangeCodedValueDomain.exe -c <変換ファイル名> -f <出力ファイル名>

-c　コード値の説明を変更するファイル名（上記で説明したファイル）
　　例： C:\temp\domain.csv

-f　コード値ドメインの一覧を出力したいファイルDBが入っているフォルダのパス
　　例: C:\temp\


【ログ出力】
ログ出力はなし。
正常終了か、異常終了かのみが出力される。


【更新履歴】
2013/01/07	FILEVERSION 1.0.0.0
新規作成
